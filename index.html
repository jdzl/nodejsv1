<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Nodejs Linux</title> 
    <!-- CSS de Bootstrap -->
 
    <link rel="stylesheet" href="css/bootstrap.min.css">

<!-- Optional theme -->
<link rel="stylesheet" href="css/bootstrap-theme.min.css">

<!-- Latest compiled and minified JavaScript -->
 
    <!-- librerÃ­as opcionales que activan el soporte de HTML5 para IE8 -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
<form class="form-inline">
  <div class="form-group">
    <label for="exampleInputName2">Nick</label>
    <input type="text" class="form-control" id="nombre" placeholder="***********">
  </div>
  <div class="form-group">
    <label for="exampleInputEmail2">Name</label>
    <input type="text" class="form-control" id="apellido" placeholder="**********">
  </div>
  <button id="sendname"  class="btn btn-default">Log</button>
</form>


  
  <div class="panel panel-primary">
 
  <div class="panel-heading">Usuarios</div>
  <div class="panel-body">    
  </div>   
     <div id="resp"></div>      
</div>  
  
  <script src="http://code.jquery.com/jquery.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script>
    var socket = io(); // Inicializamos socketIO en el cliente
    /*
    *
    *@Param msg :  select tabla personajes  formato JSON
    */
      socket.on('message', function (msg) {

      var a=`<table class='table'>
                <thead>
                <tr>
                  <th>Nick</th>
                  <th>Name</th>        
                </tr>
                </thead>
                <tbody>`;      
      
                for (var i = msg.length - 1; i >= 0; i--) {
                    a += "<tr><td>"+msg[i].nombre +" </td><td> " + msg[i].apellido + "</td></tr>";
                };

          a+=`</tbody>
              </table>`;

          $("#resp").html(a);
      });

      $('#sendname').click(function(){

        socket.emit('name', {
                              name:     $('#nombre').val()  ,
                              lastname: $('#apellido').val()
                          });
        return false;
      });    
  </script>
  <script src="js/bootstrap.min.js"></script>
  </body>
</html>